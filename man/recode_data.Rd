% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/06_recode_data.R
\name{recode_data}
\alias{recode_data}
\title{Recode Human-Readable Labels to REDCap Dictionary Codes}
\usage{
recode_data(dicts, dayta)
}
\arguments{
\item{dicts}{A named list of dictionaries (typically from \code{\link{read_and_parse_dict}}),
where each element corresponds to a REDCap field and contains a named character vector of
code-to-label mappings.}

\item{dayta}{A data frame or tibble with label values (to be converted back to codes).}
}
\value{
A tibble with the same structure as \code{dayta}, but with dictionary-mapped values
replaced by their corresponding REDCap codes where applicable.
}
\description{
This function maps human-readable values in a dataset back to their corresponding
REDCap dictionary codes using a named list of field-specific dictionaries. It is useful
when REDCap exports or manually curated data use labels, but the system requires coded values.
}
\details{
Only columns that exist in both \code{dayta} and \code{dicts} are considered. Any unmatched values
(either due to typos, unexpected entries, or blanks) are flagged in the console output.

For each applicable column:
\itemize{
\item The dictionary is reversed (label â†’ code)
\item Each label in the data is matched to its code
\item If labels are not matched (e.g. due to typos or blanks), a warning message is shown
\item Unmatched values are left as \code{NA} in the output
}
}
\examples{
dicts <- list(
  fat = c("0" = "Negative", "1" = "Positive"),
  sample_buffer = c("0" = "Glycerol-saline", "1" = "RNAlater")
)

df <- tibble::tibble(
  fat = c("Positive", "Negative", "Unknown"),
  sample_buffer = c("RNAlater", "Glycerol-saline", "")
)

recoded <- recode_data(dicts, df)
print(recoded)

}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/07_final_processing.R
\name{final_processing}
\alias{final_processing}
\title{Prepare Diagnostic and Sequencing REDCap Forms}
\usage{
final_processing(
  mydata,
  dictPath = system.file("extdata", "RABVlab_DataDictionary_redcap2025-08-04.csv",
    package = "rabvRedcapProcessing"),
  access_group = c("east_africa", "malawi", "nigeria", "peru", "philippines")
)
}
\arguments{
\item{mydata}{A data frame containing cleaned lab records. Must include a \code{sample_id} and \code{duplicate_id} column.}

\item{dictPath}{File path to the REDCap data dictionary (CSV format). Defaults to a dictionary bundled with the package.}

\item{access_group}{A character string specifying the REDCap Data Access Group. Must be one of:
\code{"east_africa"}, \code{"malawi"}, \code{"nigeria"}, \code{"peru"}, or \code{"philippines"}.}
}
\value{
A named list with two tibbles:
\describe{
\item{diagnostic_form}{A tibble ready for REDCap import into the diagnostic form.}
\item{sequencing_form}{A tibble ready for REDCap import into the sequencing form.}
}
}
\description{
Processes cleaned laboratory data and splits it into two REDCap-compatible data frames:
one for the \code{diagnostic} form and another for the \code{sequencing} form. These are formatted
for use with REDCap repeat instruments. The function uses a built-in REDCap dictionary
by default, but you may provide a custom dictionary via the \code{dictPath} argument.
}
\details{
Uses \code{\link{get_redcap_form_columns}} to extract form-specific variables.
Ensures REDCap repeat instrument fields (\code{redcap_repeat_instrument}, \code{redcap_repeat_instance})
are properly set and all required fields are present. Missing fields are filled with \code{""}
as required for REDCap imports.
}
